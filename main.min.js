function loadJSON(e,n){var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET","./inc/"+n+"_fundingTargets.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null)}var app=new Vue({el:".lightning",data:{currentFunding:0,pastFundingTargets:[],currentFundingTargets:[],futureFundingTargets:[]},methods:{fundingPercentage:function(e){return this.percentage=this.currentFunding/e*100,this.percentage>100&&(this.percentage=100),this.percentage},addNewFundingTarget:function(){app.pastFundingTargets.push(app.currentFundingTargets.shift()),app.currentFundingTargets.push(app.futureFundingTargets.shift())},increment:function(){app.currentFunding+=100},getPercentage:function(){return this.currentFundingTargets[0].percentage+"%"},setActive:function(){document.querySelector(".progress").classList.add("active")},resetActive:function(){document.querySelector(".progress").classList.remove("active")}},watch:{currentFunding:function(){app.setActive(),app.currentFundingTargets[0].percentage=app.fundingPercentage(app.currentFundingTargets[0].fundingTarget),app.currentFunding>=app.currentFundingTargets[0].fundingTarget&&setTimeout(function(){app.addNewFundingTarget(),setTimeout(function(){app.currentFundingTargets[0].percentage=app.fundingPercentage(app.currentFundingTargets[0].fundingTarget),app.setActive(),setTimeout(function(){app.resetActive()},2e3)},100)},2e3),setTimeout(function(){app.resetActive()},1800)}},created:function(){console.log("init");var e=document.documentElement.lang;loadJSON(function(e){var n=JSON.parse(e);console.log(n),app.currentFundingTargets.push(n.shift()),app.futureFundingTargets=n},e)}});